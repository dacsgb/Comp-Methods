<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Contributing to SciPy &mdash; SciPy v1.3.0 Reference Guide</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/scipy-mathjax/MathJax.js?config=scipy-mathjax"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="SciPy v1.3.0 Reference Guide" href="index.html" >
    <link rel="next" title="Building from sources" href="building/index.html" >
    <link rel="prev" title="SciPy Code of Conduct" href="dev/conduct/code_of_conduct.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">SciPy v1.3.0 Reference Guide</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="building/index.html" title="Building from sources"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="dev/conduct/code_of_conduct.html" title="SciPy Code of Conduct"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/scipyshiny_small.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contributing to SciPy</a><ul>
<li><a class="reference internal" href="#contributing-new-code">Contributing new code</a></li>
<li><a class="reference internal" href="#contributing-by-helping-maintain-existing-code">Contributing by helping maintain existing code</a></li>
<li><a class="reference internal" href="#reviewing-pull-requests">Reviewing pull requests</a></li>
<li><a class="reference internal" href="#other-ways-to-contribute">Other ways to contribute</a></li>
<li><a class="reference internal" href="#recommended-development-setup">Recommended development setup</a></li>
<li><a class="reference internal" href="#scipy-structure">SciPy structure</a></li>
<li><a class="reference internal" href="#useful-links-faq-checklist">Useful links, FAQ, checklist</a><ul>
<li><a class="reference internal" href="#checklist-before-submitting-a-pr">Checklist before submitting a PR</a></li>
<li><a class="reference internal" href="#useful-scipy-documents">Useful SciPy documents</a></li>
<li><a class="reference internal" href="#faq">FAQ</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dev/conduct/code_of_conduct.html"
                        title="previous chapter">SciPy Code of Conduct</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="building/index.html"
                        title="next chapter">Building from sources</a></p>
<div id="searchbox" style="display: none" role="search">
  <h4>Quick search</h4>
    <div>
    <form class="search" action="search.html" method="get">
      <input type="text" style="width: inherit;" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="contributing-to-scipy">
<h1>Contributing to SciPy<a class="headerlink" href="#contributing-to-scipy" title="Permalink to this headline">¶</a></h1>
<p>This document aims to give an overview of how to contribute to SciPy.  It
tries to answer commonly asked questions, and provide some insight into how the
community process works in practice.  Readers who are familiar with the SciPy
community and are experienced Python coders may want to jump straight to the
<a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/">git workflow</a> documentation.</p>
<p>There are a lot of ways you can contribute:</p>
<ul class="simple">
<li><p>Contributing new code</p></li>
<li><p>Fixing bugs and other maintenance work</p></li>
<li><p>Improving the documentation</p></li>
<li><p>Reviewing open pull requests</p></li>
<li><p>Triaging issues</p></li>
<li><p>Working on the <a class="reference external" href="https://scipy.org/">scipy.org</a> website</p></li>
<li><p>Answering questions and participating on the scipy-dev and scipy-user
<a class="reference external" href="https://www.scipy.org/scipylib/mailing-lists.html">mailing lists</a>.</p></li>
</ul>
<div class="section" id="contributing-new-code">
<h2>Contributing new code<a class="headerlink" href="#contributing-new-code" title="Permalink to this headline">¶</a></h2>
<p>If you have been working with the scientific Python toolstack for a while, you
probably have some code lying around of which you think “this could be useful
for others too”.  Perhaps it’s a good idea then to contribute it to SciPy or
another open source project.  The first question to ask is then, where does
this code belong?  That question is hard to answer here, so we start with a
more specific one: <em>what code is suitable for putting into SciPy?</em>
Almost all of the new code added to scipy has in common that it’s potentially
useful in multiple scientific domains and it fits in the scope of existing
scipy submodules.  In principle new submodules can be added too, but this is
far less common.  For code that is specific to a single application, there may
be an existing project that can use the code.  Some scikits (<a class="reference external" href="http://scikit-learn.org">scikit-learn</a>,
<a class="reference external" href="http://scikit-image.org/">scikit-image</a>, <a class="reference external" href="https://www.statsmodels.org/">statsmodels</a>, etc.) are good examples here; they have a
narrower focus and because of that more domain-specific code than SciPy.</p>
<p>Now if you have code that you would like to see included in SciPy, how do you
go about it?  After checking that your code can be distributed in SciPy under a
compatible license (see FAQ for details), the first step is to discuss on the
scipy-dev mailing list.  All new features, as well as changes to existing code,
are discussed and decided on there.  You can, and probably should, already
start this discussion before your code is finished.</p>
<p>Assuming the outcome of the discussion on the mailing list is positive and you
have a function or piece of code that does what you need it to do, what next?
Before code is added to SciPy, it at least has to have good documentation, unit
tests and correct code style.</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Unit tests</dt><dd><p>In principle you should aim to create unit tests that exercise all the code
that you are adding.  This gives some degree of confidence that your code
runs correctly, also on Python versions and hardware or OSes that you don’t
have available yourself.  An extensive description of how to write unit
tests is given in the NumPy <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/TESTS.rst.txt">testing guidelines</a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Documentation</dt><dd><p>Clear and complete documentation is essential in order for users to be able
to find and understand the code.  Documentation for individual functions
and classes – which includes at least a basic description, type and
meaning of all parameters and returns values, and usage examples in
<a class="reference external" href="https://pymotw.com/3/doctest/">doctest</a> format – is put in docstrings.  Those docstrings can be read
within the interpreter, and are compiled into a reference guide in html and
pdf format.  Higher-level documentation for key (areas of) functionality is
provided in tutorial format and/or in module docstrings.  A guide on how to
write documentation is given in <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">how to document</a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Code style</dt><dd><p>Uniformity of style in which code is written is important to others trying
to understand the code.  SciPy follows the standard Python guidelines for
code style, <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a>.  In order to check that your code conforms to PEP8,
you can use the <a class="reference external" href="https://pypi.python.org/pypi/pep8">pep8 package</a> style checker.  Most IDEs and text editors
have settings that can help you follow PEP8, for example by translating
tabs by four spaces.  Using <a class="reference external" href="https://pypi.python.org/pypi/pyflakes">pyflakes</a> to check your code is also a good
idea.</p>
</dd>
</dl>
</li>
</ol>
<p>At the end of this document a checklist is given that may help to check if your
code fulfills all requirements for inclusion in SciPy.</p>
<p>Another question you may have is: <em>where exactly do I put my code</em>?  To answer
this, it is useful to understand how the SciPy public API (application
programming interface) is defined.  For most modules the API is two levels
deep, which means your new function should appear as
<code class="docutils literal notranslate"><span class="pre">scipy.submodule.my_new_func</span></code>.  <code class="docutils literal notranslate"><span class="pre">my_new_func</span></code> can be put in an existing or
new file under <code class="docutils literal notranslate"><span class="pre">/scipy/&lt;submodule&gt;/</span></code>, its name is added to the <code class="docutils literal notranslate"><span class="pre">__all__</span></code>
list in that file (which lists all public functions in the file), and those
public functions are then imported in  <code class="docutils literal notranslate"><span class="pre">/scipy/&lt;submodule&gt;/__init__.py</span></code>.  Any
private functions/classes should have a leading underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) in their
name.  A more detailed description of what the public API of SciPy is, is given
in <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/api.html">SciPy API</a>.</p>
<p>Once you think your code is ready for inclusion in SciPy, you can send a pull
request (PR) on Github.  We won’t go into the details of how to work with git
here, this is described well in the <a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/">git workflow</a> section of the NumPy
documentation and on the <a class="reference external" href="https://help.github.com/articles/set-up-git/">Github help pages</a>.  When you send the PR for a new
feature, be sure to also mention this on the scipy-dev mailing list.  This can
prompt interested people to help review your PR.  Assuming that you already got
positive feedback before on the general idea of your code/feature, the purpose
of the code review is to ensure that the code is correct, efficient and meets
the requirements outlined above.  In many cases the code review happens
relatively quickly, but it’s possible that it stalls.  If you have addressed
all feedback already given, it’s perfectly fine to ask on the mailing list
again for review (after a reasonable amount of time, say a couple of weeks, has
passed).  Once the review is completed, the PR is merged into the “master”
branch of SciPy.</p>
<p>The above describes the requirements and process for adding code to SciPy.  It
doesn’t yet answer the question though how decisions are made exactly.  The
basic answer is: decisions are made by consensus, by everyone who chooses to
participate in the discussion on the mailing list.  This includes developers,
other users and yourself.  Aiming for consensus in the discussion is important
– SciPy is a project by and for the scientific Python community.  In those
rare cases that agreement cannot be reached, the maintainers of the module
in question can decide the issue.</p>
</div>
<div class="section" id="contributing-by-helping-maintain-existing-code">
<h2>Contributing by helping maintain existing code<a class="headerlink" href="#contributing-by-helping-maintain-existing-code" title="Permalink to this headline">¶</a></h2>
<p>The previous section talked specifically about adding new functionality to
SciPy.  A large part of that discussion also applies to maintenance of existing
code.  Maintenance means fixing bugs, improving code quality, documenting
existing functionality better, adding missing unit tests, keeping
build scripts up-to-date, etc.  The SciPy <a class="reference external" href="https://github.com/scipy/scipy/issues">issue list</a> contains all
reported bugs, build/documentation issues, etc.  Fixing issues
helps improve the overall quality of SciPy, and is also a good way
of getting familiar with the project.  You may also want to fix a bug because
you ran into it and need the function in question to work correctly.</p>
<p>The discussion on code style and unit testing above applies equally to bug
fixes.  It is usually best to start by writing a unit test that shows the
problem, i.e. it should pass but doesn’t.  Once you have that, you can fix the
code so that the test does pass.  That should be enough to send a PR for this
issue.  Unlike when adding new code, discussing this on the mailing list may
not be necessary - if the old behavior of the code is clearly incorrect, no one
will object to having it fixed.  It may be necessary to add some warning or
deprecation message for the changed behavior.  This should be part of the
review process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pull requests that <em>only</em> change code style, e.g. fixing some PEP8 issues in
a file, are discouraged. Such PRs are often not worth cluttering the git
annotate history, and take reviewer time that may be better spent in other ways.
Code style cleanups of code that is touched as part of a functional change
are fine however.</p>
</div>
</div>
<div class="section" id="reviewing-pull-requests">
<h2>Reviewing pull requests<a class="headerlink" href="#reviewing-pull-requests" title="Permalink to this headline">¶</a></h2>
<p>Reviewing open pull requests (PRs) is very welcome, and a valuable way to help
increase the speed at which the project moves forward.  If you have specific
knowledge/experience in a particular area (say “optimization algorithms” or
“special functions”) then reviewing PRs in that area is especially valuable -
sometimes PRs with technical code have to wait for a long time to get merged
due to a shortage of appropriate reviewers.</p>
<p>We encourage everyone to get involved in the review process; it’s also a
great way to get familiar with the code base.  Reviewers should ask
themselves some or all of the following questions:</p>
<ul class="simple">
<li><p>Was this change adequately discussed (relevant for new features and changes
in existing behavior)?</p></li>
<li><p>Is the feature scientifically sound? Algorithms may be known to work based on
literature; otherwise, closer look at correctness is valuable.</p></li>
<li><p>Is the intended behavior clear under all conditions (e.g. unexpected inputs
like empty arrays or nan/inf values)?</p></li>
<li><p>Does the code meet the quality, test and documentation expectation outline
under <a class="reference internal" href="#contributing-new-code">Contributing new code</a>?</p></li>
</ul>
<p>If we do not know you yet, consider introducing yourself.</p>
</div>
<div class="section" id="other-ways-to-contribute">
<h2>Other ways to contribute<a class="headerlink" href="#other-ways-to-contribute" title="Permalink to this headline">¶</a></h2>
<p>There are many ways to contribute other than contributing code.</p>
<p>Triaging issues (investigating bug reports for validity and possible actions to
take) is also a useful activity.  SciPy has many hundreds of open issues;
closing invalid ones and correctly labeling valid ones (ideally with some first
thoughts in a comment) allows prioritizing maintenance work and finding related
issues easily when working on an existing function or submodule.</p>
<p>Participating in discussions on the scipy-user and scipy-dev <a class="reference external" href="https://www.scipy.org/scipylib/mailing-lists.html">mailing lists</a> is
a contribution in itself.  Everyone who writes to those lists with a problem or
an idea would like to get responses, and writing such responses makes the
project and community function better and appear more welcoming.</p>
<p>The <a class="reference external" href="https://scipy.org/">scipy.org</a> website contains a lot of information on both SciPy the
project and SciPy the community, and it can always use a new pair of hands.
The sources for the website live in their own separate repo:
<a class="reference external" href="https://github.com/scipy/scipy.org">https://github.com/scipy/scipy.org</a></p>
</div>
<div class="section" id="recommended-development-setup">
<h2>Recommended development setup<a class="headerlink" href="#recommended-development-setup" title="Permalink to this headline">¶</a></h2>
<p>Since Scipy contains parts written in C, C++, and Fortran that need to be
compiled before use, make sure you have the necessary compilers and Python
development headers installed.  Having compiled code also means that importing
Scipy from the development sources needs some additional steps, which are
explained below.</p>
<p>First fork a copy of the main Scipy repository in Github onto your own
account and then create your local repository via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:YOURUSERNAME/scipy.git scipy
$ cd scipy
$ git remote add upstream git://github.com/scipy/scipy.git
</pre></div>
</div>
<p>Second to code review pull requests it is helpful to have a local copy of the
code changes in the pull request. The preferred method to bring a PR from the
github repository to your local repo in a new branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch upstream pull/PULL_REQUEST_ID/head:NEW_BRANCH_NAME
</pre></div>
</div>
<p>The value of <em class="xref py py-obj">PULL_REQUEST_ID</em> will be the PR number and the <em class="xref py py-obj">NEW_BRANCH_NAME</em>
will be the name of the branch in your local repository where the diffs will
reside.</p>
<p>Now you have a branch in your local development area to code review in python.</p>
<p>To build the development version of Scipy and run tests, spawn
interactive shells with the Python import paths properly set up etc.,
do one of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python runtests.py -v
$ python runtests.py -v -s optimize
$ python runtests.py -v -t scipy.special.tests.test_basic::test_xlogy
$ python runtests.py --ipython
$ python runtests.py --python somescript.py
$ python runtests.py --bench
</pre></div>
</div>
<p>This builds Scipy first, so the first time it may take some time.  If
you specify <code class="docutils literal notranslate"><span class="pre">-n</span></code>, the tests are run against the version of Scipy (if
any) found on current PYTHONPATH.  <em>Note: if you run into a build issue,
more detailed build documentation can be found in :doc:`building/index` and at
https://github.com/scipy/scipy/tree/master/doc/source/building</em></p>
<p>Using <code class="docutils literal notranslate"><span class="pre">runtests.py</span></code> is the recommended approach to running tests.
There are also a number of alternatives to it, for example in-place
build or installing to a virtualenv. See the FAQ below for details.</p>
<p>Some of the tests in Scipy are very slow and need to be separately
enabled. See the FAQ below for details.</p>
</div>
<div class="section" id="scipy-structure">
<h2>SciPy structure<a class="headerlink" href="#scipy-structure" title="Permalink to this headline">¶</a></h2>
<p>All SciPy modules should follow the following conventions. In the
following, a <em>SciPy module</em> is defined as a Python package, say
<code class="docutils literal notranslate"><span class="pre">yyy</span></code>, that is located in the scipy/ directory.</p>
<ul>
<li><p>Ideally, each SciPy module should be as self-contained as possible.
That is, it should have minimal dependencies on other packages or
modules.  Even dependencies on other SciPy modules should be kept to
a minimum.  A dependency on NumPy is of course assumed.</p></li>
<li><p>Directory <code class="docutils literal notranslate"><span class="pre">yyy/</span></code> contains:</p>
<ul class="simple">
<li><p>A file <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> that defines
<code class="docutils literal notranslate"><span class="pre">configuration(parent_package='',top_path=None)</span></code> function
for <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/distutils.html#module-numpy.distutils" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.distutils</span></code></a>.</p></li>
<li><p>A directory <code class="docutils literal notranslate"><span class="pre">tests/</span></code> that contains files <code class="docutils literal notranslate"><span class="pre">test_&lt;name&gt;.py</span></code>
corresponding to modules <code class="docutils literal notranslate"><span class="pre">yyy/&lt;name&gt;{.py,.so,/}</span></code>.</p></li>
</ul>
</li>
<li><p>Private modules should be prefixed with an underscore <code class="docutils literal notranslate"><span class="pre">_</span></code>,
for instance <code class="docutils literal notranslate"><span class="pre">yyy/_somemodule.py</span></code>.</p></li>
<li><p>User-visible functions should have good documentation following
the NumPy documentation style, see <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">how to document</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> of the module should contain the main reference
documentation in its docstring. This is connected to the Sphinx
documentation under <code class="docutils literal notranslate"><span class="pre">doc/</span></code> via Sphinx’s automodule directive.</p>
<p>The reference documentation should first give a categorized list of
the contents of the module using <code class="docutils literal notranslate"><span class="pre">autosummary::</span></code> directives, and
after that explain points essential for understanding the use of the
module.</p>
<p>Tutorial-style documentation with extensive examples should be
separate, and put under <code class="docutils literal notranslate"><span class="pre">doc/source/tutorial/</span></code></p>
</li>
</ul>
<p>See the existing Scipy submodules for guidance.</p>
<p>For further details on NumPy distutils, see:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/DISTUTILS.rst.txt">https://github.com/numpy/numpy/blob/master/doc/DISTUTILS.rst.txt</a></p>
</div></blockquote>
</div>
<div class="section" id="useful-links-faq-checklist">
<h2>Useful links, FAQ, checklist<a class="headerlink" href="#useful-links-faq-checklist" title="Permalink to this headline">¶</a></h2>
<div class="section" id="checklist-before-submitting-a-pr">
<h3>Checklist before submitting a PR<a class="headerlink" href="#checklist-before-submitting-a-pr" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Are there unit tests with good code coverage?</p></li>
<li><p>Do all public function have docstrings including examples?</p></li>
<li><p>Is the code style correct (PEP8, pyflakes)</p></li>
<li><p>Is the commit message <a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/development_workflow.html#writing-the-commit-message">formatted correctly</a>?</p></li>
<li><p>Is the new functionality tagged with <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">versionadded::</span> <span class="pre">X.Y.Z</span></code> (with
X.Y.Z the version number of the next release - can be found in setup.py)?</p></li>
<li><p>Is the new functionality mentioned in the release notes of the next
release?</p></li>
<li><p>Is the new functionality added to the reference guide?</p></li>
<li><p>In case of larger additions, is there a tutorial or more extensive
module-level description?</p></li>
<li><p>In case compiled code is added, is it integrated correctly via setup.py</p></li>
<li><p>If you are a first-time contributor, did you add yourself to THANKS.txt?
Please note that this is perfectly normal and desirable - the aim is to
give every single contributor credit, and if you don’t add yourself it’s
simply extra work for the reviewer (or worse, the reviewer may forget).</p></li>
<li><p>Did you check that the code can be distributed under a BSD license?</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="useful-scipy-documents">
<h3>Useful SciPy documents<a class="headerlink" href="#useful-scipy-documents" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">how to document</a> guidelines</p></li>
<li><p>NumPy/SciPy <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/TESTS.rst.txt">testing guidelines</a></p></li>
<li><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/api.html">SciPy API</a></p></li>
<li><p>The <a class="reference external" href="https://scipy.github.io/devdocs/roadmap.html">SciPy Roadmap</a></p></li>
<li><p>NumPy/SciPy <a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/">git workflow</a></p></li>
<li><p>How to submit a good <a class="reference external" href="https://scipy.org/bug-report.html">bug report</a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="faq">
<h3>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h3>
<p><em>I based my code on existing Matlab/R/… code I found online, is this OK?</em></p>
<p>It depends.  SciPy is distributed under a BSD license, so if the code that you
based your code on is also BSD licensed or has a BSD-compatible license (e.g.
MIT, PSF) then it’s OK.  Code which is GPL or Apache licensed, has no
clear license, requires citation or is free for academic use only can’t be
included in SciPy.  Therefore if you copied existing code with such a license
or made a direct translation to Python of it, your code can’t be included.
If you’re unsure, please ask on the scipy-dev mailing list.</p>
<p><em>Why is SciPy under the BSD license and not, say, the GPL?</em></p>
<p>Like Python, SciPy uses a “permissive” open source license, which allows
proprietary re-use. While this allows companies to use and modify the software
without giving anything back, it is felt that the larger user base results in
more contributions overall, and companies often publish their modifications
anyway, without being required to.  See John Hunter’s <a class="reference external" href="http://nipy.sourceforge.net/nipy/stable/faq/johns_bsd_pitch.html">BSD pitch</a>.</p>
<p><em>How do I set up a development version of SciPy in parallel to a released
version that I use to do my job/research?</em></p>
<p>One simple way to achieve this is to install the released version in
site-packages, by using a binary installer or pip for example, and set
up the development version in a virtualenv.  First install
<a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a> (optionally use <a class="reference external" href="https://bitbucket.org/dhellmann/virtualenvwrapper/">virtualenvwrapper</a>), then create your
virtualenv (named scipy-dev here) with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ virtualenv scipy-dev
</pre></div>
</div>
<p>Now, whenever you want to switch to the virtual environment, you can use the
command <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">scipy-dev/bin/activate</span></code>, and <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> to exit from the
virtual environment and back to your previous shell.  With scipy-dev
activated, install first Scipy’s dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install NumPy pytest Cython
</pre></div>
</div>
<p>After that, you can install a development version of Scipy, for example via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py install
</pre></div>
</div>
<p>The installation goes to the virtual environment.</p>
<p><em>How do I set up an in-place build for development</em></p>
<p>For development, you can set up an in-place build so that changes made to
<code class="docutils literal notranslate"><span class="pre">.py</span></code> files have effect without rebuild. First, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py build_ext -i
</pre></div>
</div>
<p>Then you need to point your PYTHONPATH environment variable to this directory.
Some IDEs (<a class="reference external" href="https://www.spyder-ide.org/">Spyder</a> for example) have utilities to manage PYTHONPATH.  On Linux
and OSX, you can run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export PYTHONPATH=$PWD
</pre></div>
</div>
<p>and on Windows</p>
<blockquote>
<div><p>$ set PYTHONPATH=/path/to/scipy</p>
</div></blockquote>
<p>Now editing a Python source file in SciPy allows you to immediately
test and use your changes (in <code class="docutils literal notranslate"><span class="pre">.py</span></code> files), by simply restarting the
interpreter.</p>
<p><em>Are there any video examples for installing from source, setting up a
development environment, etc…?</em></p>
<p>Currently, there are two video demonstrations for Anaconda Python on macOS:</p>
<p><a class="reference external" href="https://youtu.be/1rPOSNd0ULI">Anaconda SciPy Dev Part I (macOS)</a> is a four-minute
overview of installing Anaconda, building SciPy from source, and testing
changes made to SciPy from the <a class="reference external" href="https://www.spyder-ide.org/">Spyder</a> IDE.</p>
<p><a class="reference external" href="https://youtu.be/Faz29u5xIZc">Anaconda SciPy Dev Part II (macOS)</a> shows how to use
a virtual environment to easily switch between the “pre-built version” of SciPy
installed with Anaconda and your “source-built version” of SciPy created
according to Part I.</p>
<p><em>Are there any video examples of the basic development workflow?</em></p>
<p><a class="reference external" href="https://youtu.be/HgU01gJbzMY">SciPy Development Workflow</a> is a five-minute example of fixing a bug and
submitting a pull request. While it’s intended as a followup to
<a class="reference external" href="https://youtu.be/1rPOSNd0ULI">Anaconda SciPy Dev Part I (macOS)</a> and <a class="reference external" href="https://youtu.be/Faz29u5xIZc">Anaconda SciPy Dev Part II (macOS)</a>,
the process is similar for other development setups.</p>
<p><em>Can I use a programming language other than Python to speed up my code?</em></p>
<p>Yes.  The languages used in SciPy are Python, Cython, C, C++ and Fortran.  All
of these have their pros and cons.  If Python really doesn’t offer enough
performance, one of those languages can be used.  Important concerns when
using compiled languages are maintainability and portability.  For
maintainability, Cython is clearly preferred over C/C++/Fortran.  Cython and C
are more portable than C++/Fortran.  A lot of the existing C and Fortran code
in SciPy is older, battle-tested code that was only wrapped in (but not
specifically written for) Python/SciPy.  Therefore the basic advice is: use
Cython.  If there’s specific reasons why C/C++/Fortran should be preferred,
please discuss those reasons first.</p>
<p><em>How do I debug code written in C/C++/Fortran inside Scipy?</em></p>
<p>The easiest way to do this is to first write a Python script that
invokes the C code whose execution you want to debug. For instance
<code class="docutils literal notranslate"><span class="pre">mytest.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.special</span> <span class="k">import</span> <span class="n">hyp2f1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hyp2f1</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">))</span>
</pre></div>
</div>
<p>Now, you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdb</span> <span class="o">--</span><span class="n">args</span> <span class="n">python</span> <span class="n">runtests</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">g</span> <span class="o">--</span><span class="n">python</span> <span class="n">mytest</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>If you didn’t compile with debug symbols enabled before, remove the
<code class="docutils literal notranslate"><span class="pre">build</span></code> directory first. While in the debugger:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="k">break</span> <span class="n">cephes_hyp2f1</span>
<span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">run</span>
</pre></div>
</div>
<p>The execution will now stop at the corresponding C function and you
can step through it as usual. Instead of plain <code class="docutils literal notranslate"><span class="pre">gdb</span></code> you can of
course use your favourite alternative debugger; run it on the
<code class="docutils literal notranslate"><span class="pre">python</span></code> binary with arguments <code class="docutils literal notranslate"><span class="pre">runtests.py</span> <span class="pre">-g</span> <span class="pre">--python</span> <span class="pre">mytest.py</span></code>.</p>
<p><em>How do I enable additional tests in Scipy?</em></p>
<p>Some of the tests in Scipy’s test suite are very slow and not enabled
by default. You can run the full suite via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python runtests.py -g -m full
</pre></div>
</div>
<p>This invokes the test suite <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">scipy;</span> <span class="pre">scipy.test(&quot;full&quot;)</span></code>,
enabling also slow tests.</p>
<p>There is an additional level of very slow tests (several minutes),
which are disabled also in this case. They can be enabled by setting
the environment variable <code class="docutils literal notranslate"><span class="pre">SCIPY_XSLOW=1</span></code> before running the test
suite.</p>
</div>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2019, The SciPy community.
      </li>
      <li>
      Last updated on May 17, 2019.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.0.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>